<div class="product_form_container">
  <app-pf-notification></app-pf-notification>
  <form class="product_form" [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <h1 class="title_form">{{isUpdateProduct? 'Formulario de Actualización':'Formulario de Registro'}}</h1>
    <div class="grid_container">
      <div class="grid_item">
        <label for="id">ID</label>
        <input
          [ngClass]="{invalid: productFormSubmitted || (productForm.get('id')?.invalid && productForm.get('id')?.touched),
                      valid: productForm.get('id')?.valid && productForm.get('id')?.touched,
                      readonly_input:isUpdateProduct}"
          type="text"
          id="id"
          placeholder="ID"
          formControlName="id"
          required
          [readonly]="isUpdateProduct">
        <div *ngIf="productFormSubmitted || productForm?.get('id')?.dirty" class="error_message">
          <span *ngIf="productForm?.get('id')?.hasError('required')">Id es requerido</span>
          <span *ngIf="productForm?.get('id')?.hasError('minlength')">Id debe tener mínimo 3 caracteres</span>
          <span *ngIf="productForm?.get('id')?.hasError('maxlength')">Id debe tener máximo 10 caracteres</span>
        </div>
      </div>
      <div class="grid_item">
        <label for="name">Nombre</label>
        <input
          [ngClass]="{invalid: productFormSubmitted || (productForm.get('name')?.invalid && productForm.get('name')?.touched),
                      valid: productForm.get('name')?.valid && productForm.get('name')?.touched}"
          type="text"
          id="name"
          placeholder="Name"
          formControlName="name"
          required>
        <div *ngIf="productFormSubmitted || productForm?.get('name')?.dirty" class="error_message">
          <span *ngIf="productForm?.get('name')?.hasError('required')">Nombre es requerido</span>
          <span *ngIf="productForm?.get('name')?.hasError('minlength')">Nombre debe tener mínimo 5 caracteres</span>
          <span *ngIf="productForm?.get('name')?.hasError('maxlength')">Nombre debe tener máximo 100 caracteres</span>
        </div>
      </div>
      <div class="grid_item">
        <label for="description">Descripción</label>
        <input
          [ngClass]="{invalid: productFormSubmitted || (productForm.get('description')?.invalid && productForm.get('description')?.touched),
                      valid: productForm.get('description')?.valid && productForm.get('description')?.touched}"
          type="text"
          id="description"
          placeholder="Description"
          formControlName="description"
          required>
        <div *ngIf="productFormSubmitted || productForm?.get('description')?.dirty" class="error_message">
          <span *ngIf="productForm?.get('description')?.hasError('required')">Descripción es requerida</span>
          <span *ngIf="productForm?.get('description')?.hasError('minlength')">Descripción debe tener mínimo 10 caracteres</span>
          <span *ngIf="productForm?.get('description')?.hasError('maxlength')">Descripción debe tener máximo 200 caracteres</span>
        </div>
      </div>
      <div class="grid_item">
        <label for="logo">Logo</label>
        <input
          [ngClass]="{invalid: productFormSubmitted || (productForm.get('logo')?.invalid && productForm.get('logo')?.touched),
                      valid: productForm.get('logo')?.valid && productForm.get('logo')?.touched}"
          type="text"
          id="logo"
          placeholder="Logo"
          formControlName="logo"
          required>
        <div *ngIf="productFormSubmitted || productForm?.get('logo')?.dirty" class="error_message">
          <span *ngIf="productForm?.get('logo')?.hasError('required')">Logo es requerido</span>
        </div>
      </div>
      <div class="grid_item">
        <label for="date_release">Fecha de Liberación</label>
        <input
          [ngClass]="{invalid: productFormSubmitted || (productForm.get('date_release')?.invalid && productForm.get('date_release')?.touched),
                      valid: productForm.get('date_release')?.valid && productForm.get('date_release')?.touched}"
          type="date"
          id="date_release"
          placeholder="Date Release"
          formControlName="date_release"
          required
          (change)="onChangeDateRelease($event)">
        <div *ngIf="productFormSubmitted || productForm?.get('date_release')?.touched" class="error_message">
          <span *ngIf="productForm?.get('date_release')?.hasError('required')">Fecha de Liberación es inválida</span>
        </div>
      </div>
      <div class="grid_item">
        <label for="date_revision">Fecha de Reestructuración</label>
        <input
          class="readonly_input"
          type="date"
          id="date_revision"
          placeholder="Date Revision"
          formControlName="date_revision"
          [readonly]="true">
      </div>
    </div>

    <div [ngClass]="{grid_action_buttons: !isUpdateProduct, grid_action_buttons_update: isUpdateProduct,}"class="grid_action_buttons">
      <app-pf-button label="Regresar" kind="secondary" (buttonClick)="back()"></app-pf-button>
      <app-pf-button *ngIf="!isUpdateProduct" label="Reiniciar" (buttonClick)="clearForm()"></app-pf-button>
      <app-pf-button label="Enviar" type="submit" disable="newForm.invalid"></app-pf-button>
    </div>
  </form>
</div>

